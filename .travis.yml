language: java

before_install:
  - echo -n | openssl s_client -connect scan.coverity.com:https | sed -ne '/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p' | sudo tee -a /etc/ssl/certs/ca-
  - wget --no-check-certificate https://www.apache.org/dist/ant/binaries/apache-ant-1.10.5-bin.tar.gz
  - tar -xzf apache-ant-1.10.5-bin.tar.gz
  - export PATH=`pwd`/apache-ant-1.10.5/bin:$PATH
  - echo $(ant -version)

install:
  - chmod -R 755 lib/junit/

script:
  - ant -lib lib/junit
  - cat code/*/dist/TEST-*.txt

env:
  global:
   # The next declaration is the encrypted COVERITY_SCAN_TOKEN, created
   #   via the "travis encrypt" command using the project repo's public key
    - secure: "oWAb5E7k8lTZ0ICfN6QGabMhT2kTexGxX4TecCfkE0LWctzO4+wvkjqUGsEN6QpIklQbtcrpoeTU0+SwHwvLyzBqHwaaG2MMFmD6ePbB7kxusNqJCBE1XvpvGQClNO6O0Swzdwe7pggoH53h0DBZAGS9jDhAtjGX1eBQTV1xtZOBq8f5VmPyhmusktaTFTgmNyPgV2V+g/hn9dZpLNuNjIyVfF846O5TKu3fWPAud29XgZ0urGWqM+nIWHTYUA5TStLS5Lx4vr9DUr6UL0OUxZaHegmUK1cZDKx8smbr9nSLUfzmviS4r3r6oL6IVKlinYyKRFs6An2+sXMicB7e4++0Eapj2ShKExvbzAWk5NNIap5qhiVHSm431TwQbjzzsqgpWwRyqU2OW+UET1LJC/R12PKGeuDg5FtaWGuYzaCtvZC9CFKrOR5DAwUUK1RCeVpr8JdPMkOvPxG5/vztWkmWYOs/CD/rdrCabolJdLtDywYYbTWq4XK0/JNODkH7ERrXLUZOQmheWbGq0fhkvmVECXUNq7fk6M6DuY+/RWE0zspSemrJPSQl5y2z2XUbakiY3/mBQPeOWv+rHRgd9pfGFNZpDJ1hsNdsUr4V415VJQ3Fc8fqXYsoNiSgz9UtdzcEsIskEy72Ld6R65QyZeAw22WFyk4sHAIxrVtx6Ls="
    #- secure: "D+Shdubv0/f++hp5BTjjx++kq3k0zqvWB0kISmZM8SiVseV6KLgw8lCaW9IDixguIqAKlMsgaeEPDI9HXcFwI+D/Cl40pMeR56svn8mWr0vNJFSQO07RIDeaMOnQ5C05bngbjKDd/4GOHbOqAUz3bLscQIc3HAnL/InrR0YPeM2mSz3ZyfwIyXX14WhgXH2bwLVzOBdGBB7qbJ8qRKVsrr1t+5Gj34BfUuLwvN8Nl6Ym0jlgKg0jzyy8/FblXdDbEW0cwhhFK0rgRUHdhq/1AKo0r+LkF5pi8zHbBcMm1YFG1g7SA/tQ1vqtUH8QAOR4XNd8yPbiOeCAC3TGgO2nsChYIgGqyt7ScOogJ9z5KLuujjhDaZ2qfEZaClGogYudBIVtnFNtgSxT7uPbiGcUM6AbjVmc+KCI7rMtPnxGYNdr4iwiO11so3EWVuWOaX/jKdfahoWcPq8X9+miidHR1UUieL4TeXtO26/Ck9orcZZtDczh2EnHDcLcJvESrKel1bb40SqnGZyDsUQruQ8UVXMbFMj+LHwHm6ugpZfo6PXYYo6QH4N/erU5DX4wgmW4f3Di9oGdWtEkoMeQPdxEMh0uHQh+0Er0SXsT3ZTbCSV/2jlgkygOtwnKbHBIu4W79XcjypWDzWa4/bFShuMB+dCN+mJxmfl8dAwKW7umq54="
   # Nightscout host for testing: $NS_HOST
   - secure: "dP/6uButCXreZCoZ55XPY26JssyDlZTTslnIBlxYjM6bHgMMihRhzvyZa4Zez1kTRUU56YjWGPx233zy40Bl+Nyb2fDyNEu7r9V7WPVXC1LOrnHSzi6M4zw4JXJp/15SG4h/bb1/tlVCo3ecW21QC8c6r5X64X2Xk/7WE/AWmD8ayYMP7LJwBwaGPGrZ1Z9hXCwZLO/T2r7Mn+K5rZp74z0rkeq+RZkOSwmt+M/YtYCNAuodeKS/pGn8mZu1T/8AJI+IrgoL4Jz2NHpWcDLuWA3dlJ01oUliljzy6fKeaCujphN5uOrF8299spT5dqEg5BsGPnKQrFvgPcJi3BvP5WQVAkNRT8OUmpv/usGhTgkdyAyFDhhDIXaXNttzP3hgu39zhpO7A5BxYXfewC4IWJjWnjECnV6ne/Y5921XsFwurjeTkBQm9FAS+q/m4gIJF+KWLGDnk/Pkth2feTvaS11L9Fz38csZL4Y5JD//m9DXrKVR9/ZSkdXeMLiSc4WiE9wlV+DlulmaCGaVInGfBdDzX1CIhi09jbXargnUcroyAfuL8Bejvc3Gk96jn+QXRE0Pkr+Hj8SnWJKUD1LAQojhkQai04lbAOYOeJG5F3NNquNZeu58GFwnqE3ufx9ZiVJ+NxGgcuXL8F4Q+EuHekpJoSV1Nyv32XNQpYVqz8E="
   # Nightscout api secret for testing: $NS_APISECRET
   - secure: "nMMIIULYrWAERKdHZv5GnmN5Zxm3iODJfKavUZ9mCUVVRdijilFyNXcI7cAefieBDkd3TVG6Kk8vx3SO0VspySMp32LH05+g8UeOGsXlg+DSuAdDg62ee7CxK9kjY9Zw7KFyeo6LeCXQDm2eJQja2y5c2jIiRU/3W2QatjMFoAlAIRhhKQXgjOE1ga6CgKh9LXCYDnFNXlK4hy6+Bv+X6QmYcP7aUUpEXsQtXLDOJUq0AKKMBQ9zvuRTKUuEiUZFvUzPc7asVX5al3dRkcYobN/AvnOMYqG8w19QkGFSZbq37ugaJ9GtzKHT8xSNm+l6xaf9PExrI+MS+mOjsJEhQPyzJhTpv4HSiPor1tb7VxYFUB05NArrOEwdpCu52z0/n7EDpgi4P6UEdEcanGoWqLGsvlCQy8cCVGgcDGO0oPV+i4Z9LiR3n8QtRDgBQqSwH+wjAuYUJ9fPdVGwFW5eMmmlzZeJDFLyZkDAT1FV3soDuyelbekz9TYhSpu87jewK8Q2DGo6aydjHdJpqcqlc70cZAvMbBpaREuzMSPueRfHZf06wV9u2G26sSqJ44qMyoto2nF74pyRhCOku4ssbx9kD3PLWY2cp9WUNU6B8cAQvjyAGDjRN3iElhr3TZtpzO1cp/0r9mvmhstPCvfre6n62Br/hoUSXO+7VgC4Gtw="
addons:
  coverity_scan:
    project:
      name: "TUDa-BP-11/opendiabetes-uam-heuristik"
      description: "Build submitted via Travis CI"
    notification_email: bachelor-praktikum-gruppe-11@googlegroups.com
    build_command_prepend: ""
    build_command: ant -lib lib/junit
    branch_pattern: coverity_scan
